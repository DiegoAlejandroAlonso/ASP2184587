@model IEnumerable<ASP2184587.Models.compra>

@{
    ViewBag.Title = "Index";
}


<div class="row m-4">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header">
                Lista de Compras
            </div>
            <div class="card-body">
                <table class="display responsive nowrap" id="myTable" style="width:100%">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Total</th>
                            <th>Nombre Del Cliente</th>
                            <th>Nombre Del Usuario</th>
                            <th></th>
                        </tr>
                    </thead>




                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.fecha)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.total)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.cliente.nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.usuario.nombre)
                            </td>
                            <td>

                                @Html.ActionLink("Editar", "Edit", new { id = item.id })



                                @Html.ActionLink("Detalle", "Details", new { id = item.id })



                                @Html.ActionLink("Eliminar", "Delete", new { id = item.id }, new { @class = "linkDelete" }) ═
                                <button class='btn btn-primary btn-sm' type='button' onclick='abrirModal(" + data + ")'><i class='fas fa-pen'></i></button>

                                <button class='btn btn-danger btn-sm ml-2' type='button' onclick='Eliminar(" + data + ")'><i class='fa fa-trash'></i></button>
                            </td>
                        </tr>
                    }

                </table>
            </div>
        </div>

    </div>

</div>

@section scripts{
    <script>
        $(".linkDelete").click(function (event) {
            if (!confirm('¿ Esta seguro de eliminar ?')) {
                event.preventDefault();
            }
        })
    </script>
}

<div class="row m-4">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header">
                <thead>
                    <tr>
                        <th>Crear Compra</th>

                    </tr>
                </thead>
            </div>
            <div class="card-body">
                <table class="display responsive nowrap" id="myTable" style="width:50%">
                    <thead>
                   

                            <p>
                                @Html.ActionLink("Crear Compra", "Create")
                            </p>
                
                    </thead>

                </table>
            </div>
        </div>

    </div>


</div>



